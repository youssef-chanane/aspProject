@model Examen_ASP.Net.Models.ViewModel
@{ ViewBag.Title = "Details"; }

<h2>Details</h2>

<main id="main-container">

    <!-- Page Content -->
    <div class="content">
        <!-- User Info -->
        <div class="block block-rounded">
            <div class="block-content text-center">
                <div class="py-4">
                    <div class="mb-3">
                        <img src="~/assets/media/avatars/avatar13.jpg" />
                    </div>
                    <h1 class="fs-lg mb-0">
                        <span>@Html.DisplayFor(model => model.User.Name)</span>
                    </h1>
                </div>
            </div>
            <div class="block-content bg-body-light text-center">
                <div class="row items-push text-uppercase">
                    <div class="col-6 col-md-3">
                        <div class="fw-semibold text-dark mb-1">Status</div>
                        <a class="link-fx fs-3 text-primary" href="javascript:void(0)">@Html.DisplayFor(model => model.User.Favorite)</a>
                    </div>
                    <div class="col-6 col-md-3">
                        <div class="fw-semibold text-dark mb-1">Products</div>
                        <a class="link-fx fs-3 text-primary" href="javascript:void(0)">@ViewBag.products</a>
                    </div>

                </div>
            </div>
        </div>
        <!-- END User Info -->
        <!-- Addresses -->
        <div class="block block-rounded">
            <div class="block-header block-header-default">
                <h3 class="block-title">User Informations</h3>
            </div>
            <div class="block-content">
                <div class="row">
                    <div class="col-lg-6">
                        <!-- Billing Address -->
                        <div class="block block-rounded block-bordered">
                            <div class="block-content">
                                <div class="fs-4 mb-1">@Html.DisplayFor(model => model.User.Name)</div>
                                <address class="fs-sm">
                                    @Html.DisplayFor(model => model.User.Email) <br>
                                    <br>

                                    <i class="fa fa-phone"></i>@Html.DisplayFor(model => model.User.Phone)<br>
                                    <i class="fa fa-envelope-o"></i> <a href="javascript:void(0)"> @Html.DisplayFor(model => model.User.Id)</a>
                                </address>
                            </div>
                        </div>
                        <!-- END Billing Address -->
                    </div>
                </div>
            </div>
        </div>
        <!-- END Info -->
        <!-- Products  -->
        <div class="block block-rounded">
            <div class="block-header block-header-default">
                <h3 class="block-title">Products</h3>
            </div>
            <div class="block-content">
                <div class="table-responsive">
                    <div> <a href="@Url.Action("Create", "Products")" class="btn btn-primary">Add Product</a></div>
                    <table class="table table-borderless table-striped table-vcenter">
                        <thead>

                            <tr>
                                <th class="text-center" style="width: 100px;">ID</th>
                                <th class="d-none d-md-table-cell text-center">Title</th>
                                <th class="d-none d-sm-table-cell text-center">Price</th>
                                <th>Quantity</th>
                                <th class="d-none d-sm-table-cell text-end">Discount</th>
                                <th class="text-center">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.Products)
                            {
                <tr>
                    <td class="text-center fs-sm">
                        @Html.DisplayFor(modelItem => item.Id)

                    </td>
                    <td class="d-none d-md-table-cell text-center fs-sm">
                        <a href="javascript:void(0)">@Html.DisplayFor(modelItem => item.Title)</a>
                    </td>
                    <td class="d-none d-sm-table-cell text-center fs-sm">@Html.DisplayFor(modelItem => item.Price)</td>
                    <td>
                        <span class="badge bg-success">@Html.DisplayFor(modelItem => item.Quantity)</span>
                    </td>
                    <td class="text-end d-none d-sm-table-cell fs-sm">
                        <span">@Html.DisplayFor(modelItem => item.Discount)</span">
                    </td>
                    <td class="text-center fs-sm">
                        <a class="btn btn-sm btn-alt-secondary" href="@Url.Action("Edit", "Products")" data-bs-toggle="tooltip" title="View">
                            <i class="fa fa-fw fa-eye"></i>
                        </a>
                        <input type="hidden" value=" @Html.DisplayFor(modelItem => item.Id)" name="categoryId" id="categoryId">
                        <div class="btn-group">
                            <a href="" type="button" class="btn btn-sm btn-alt-secondary js-bs-tooltip-enabled modelButton " data-bs-toggle="modal" data-bs-target="#modal-block-vcenter">
                                <i class="fa fa-fw fa-times"></i>
                            </a>
                    </td>
                </tr>}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- END Product -->
        <div class="block block-rounded">
            <div class="block-header block-header-default">
                <h3 class="block-title">Private Notes</h3>
            </div>
            <div class="block-content">
                <p class="alert alert-dark fs-sm">
                    <i class="fa fa-fw fa-info me-1"></i> This note will not be displayed to the customer.
                </p>
                <form action="be_pages_ecom_customer.html" onsubmit="return false;">
                    <div class="mb-4">
                        <label class="form-label" for="one-ecom-customer-note">Note</label>
                        <textarea class="form-control" id="one-ecom-customer-note" name="one-ecom-customer-note" rows="4" placeholder="Maybe a special request?"></textarea>
                    </div>
                    <div class="mb-4">
                        <button type="submit" class="btn btn-alt-primary">Add Note</button>
                    </div>
                </form>
            </div>
        </div>
        <!-- END Private Notes -->
    </div>
    <!-- END Page Content -->
</main>
<!-- END Main Container -->
<!-- Top Block Modal -->
<div class="modal mt-5" id="modal-block-vcenter" tabindex="-1" role="dialog" aria-labelledby="modal-block-vcenter" aria-hidden="true">
    <div class="modal-dialog modal-dialog-top" role="document">
        <div class="modal-content">
            <div class="block block-rounded block-transparent mb-0">
                <div class="block-header block-header-default">
                    <h3 class="block-title">Delete Category</h3>
                    <div class="block-options">
                        <button type="button" class="btn-block-option" data-bs-dismiss="modal" aria-label="Close">
                            <i class="fa fa-fw fa-times"></i>
                        </button>
                    </div>
                </div>
                <div class="block-content text-danger mb-3">
                    Deleting this category will automatically delete all products in it
                </div>
                <div class="d-flex justify-content-end block-content-full text-end bg-body">
                    <button value="close" type="button" class="btn btn-sm btn-alt-secondary me-1 mx-2" data-bs-dismiss="modal">Close</button>
                    <form action="@Url.Action("Delete", "Products")" method="post">
                        @Html.AntiForgeryToken()
                        <input type="hidden" name="id" class="deletedCategory" value="">
                        <button type="submit" value="delete" class="btn btn-sm btn-danger" data-bs-dismiss="modal">Delete</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- END Top Block Modal -->
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script src="~/assets/js/oneui.app.min.js"></script>
<script>
    var id;
    $(document).ready(function () {
        id = document.getElementById("categoryId").value;
    });
    document.querySelector("#modelButton").addEventListener("click", function () {
        var Category = document.getElementById("deletedCategory");
        Category.value = id;
        console.log(Category.value);
    })

</script>